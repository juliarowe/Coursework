<!DOCTYPE html>

<html>

<head>
        <title>Captain's Log</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script>
            $(document).ready(function()
            {    
                var output = "";

                //get data from local storage
                for (key in localStorage) {
                    if (key != undefined || key != null)
                        output = "<p>" + key + " - " + localStorage[key] + "</p>" + output;
                }
                $("div#log").prepend(output);
                
                //add listener for new entries
                $('#msg').keypress(function(event)
                {
                    if(event.keyCode == 13) {
                        var date = new Date;
                        var text = $(this).val();
                        var output = "<p>" + date + " - " + text + "</p>";
                        
                        $("div#log").prepend(output);
                        $(this).val("");
                        localStorage[date] = text;
                    }
                });
            });
        </script>
</head>

<body>
        <h1>Captain's Log</h1>
        <h3>New entry: <input type="text" id="msg" name="msg" size="30"/> </h3>
        <div id="log"></div>
</body>
</html>

